{% extends 'base.html' %}

{% block title %} PRODUCTOS {% endblock %}

{% block content %}

<h1>Lista de productos</h1>

<a href="{{url_for('producto.create')}}" class="btn btn-success mb-3">Nuevo</a>

<table class="table table-striped">
    <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Stock</th>
        <th>Imagen</th>
        <th>Acción</th>
        <th>Acción</th>
    </tr>
    {% for item in productos %}
    <tr>
        <td>{{ item.id }}</td>
        <td>{{ item.nombre }}</td>
        <td>{{ item.descripcion }}</td>
        <td>{{ item.precio | round(2) }}</td>
        <td>{{ item.stock }}</td>
        <td>
            {% if item.imagen %}
                <img src="{{ url_for('static', filename='uploads/productos/' + item.imagen) }}" alt="Imagen del producto" style="width: 100px; height: auto;">
            {% else %}
                No disponible
            {% endif %}
        </td>
        <td>
            <a href="{{url_for('producto.edit',id=item.id)}}" class="btn btn-warning" >Editar</a>
        </td>
        <td>
            <a href="{{ url_for ('producto.delete',id=item.id) }}" class="btn btn-danger" onclick="return confirm('¿Estás seguro de eliminar este producto?')">Eliminar</a>
        </td>
    </tr>
    {% endfor %}
</table>

{% endblock %}